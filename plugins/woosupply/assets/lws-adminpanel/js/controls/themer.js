(function(a){a.widget("lws.lws_themer",{_create:function(){this.isOpen=false;this.cssValues=lwsBase64.toObj(this.element.data("cssvalues"));this.prefix=this.element.data("prefix");this.bgLight=this.element.data("type");this.input=this.element.find(".lws_themer_chain");this.element.on("change",".lws-cp-input",this._bind(this._changedValue,this));this.element.on("click",".lws-themer-themsel-button",this._bind(this._themeSelButton,this));this.element.on("click",".lws-themer-lb-light",this._bind(this._selBg,this));this.element.on("click",".lws-themer-lb-dark",this._bind(this._selBg,this));this.element.on("click",".lws-themer-theme-div",this._bind(this._selTheme,this));this._setBackground();this._setInitValues();this._setThemesSelectors();this._makeCssChain()},_bind:function(b,c){return function(){return b.apply(c,arguments)}},_setInitValues:function(){var b=this;this.element.find(".lws-color-picker").each(function(){var c=b.prefix+this.id;a(this).find(".lws-cp-input").val(b.cssValues[c]);a(this).find(".lws-cp-demo").css("background-color",b.cssValues[c])})},_setThemesSelectors:function(){var b=this;this.element.find(".lws-themer-theme-div").each(function(){var e=a(this).data("title");var c=lwsBase64.toObj(a(this).data("colors"));var d=(a(this).data("type")=="light")?"#666666":"#eeeeee";a("<div>",{"class":"lws-themer-tobj-colcont"}).append(a("<div>",{"class":"lws-themer-tobj-main",css:{"background-color":c[b.prefix+"main-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-smalls"}).append(a("<div>",{"class":"lws-themer-tobj-small tobj-first",css:{"background-color":c[b.prefix+"second-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":c[b.prefix+"third-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":c[b.prefix+"fourth-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":c[b.prefix+"text-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-small",css:{"background-color":c[b.prefix+"title-color"]}})).append(a("<div>",{"class":"lws-themer-tobj-small tobj-last",css:{"background-color":c[b.prefix+"highlight-color"]}}))).appendTo(this);a("<div>",{"class":"lws-themer-tobj-title",html:e,css:{color:d}}).appendTo(this)})},_setBackground:function(){if(this.bgLight=="dark"){this.element.find(".lws-themer-top").css("background-color","#2a3333")}else{this.element.find(".lws-themer-top").css("background-color","#ffffff")}},_selBg:function(b){button=a(b.currentTarget);if(button.hasClass("lws-themer-lb-light")){this.bgLight="light"}else{this.bgLight="dark"}this._setBackground();this._makeCssChain()},_themeSelButton:function(){if(!this.isOpen){this.element.find(".lws-themer-themes-panel").css("display","flex");this.isOpen=true}else{this.element.find(".lws-themer-themes-panel").css("display","none");this.isOpen=false}},_selTheme:function(c){var e=a(c.currentTarget);var d=lwsBase64.toObj(e.data("colors"));this.bgLight=e.data("type");this._setBackground();var b=this;this.element.find(".lws-color-picker").each(function(){var f=b.prefix+this.id;a(this).find(".lws-cp-input").val(d[f]).trigger("change")});this.element.find(".lws-themer-themes-panel").css("display","none");this.isOpen=false},_changedValue:function(e){var d=a(e.currentTarget);var c=d.closest(".lws-color-picker");var b=this.prefix+c[0].id;document.documentElement.style.setProperty(b,d.val());this._makeCssChain()},_makeCssChain:function(){var c=":root{";var b=this;this.element.find(".lws-color-picker").each(function(){var d=b.prefix+this.id;var e=a(this).find(".lws-cp-input").val();c+=d+":"+e+";"});c+="--type:"+this.bgLight+";";c+="}";this.input.val(lwsBase64.encode(c))}})})(jQuery);jQuery(function(a){a(".lws_themer").lws_themer()});