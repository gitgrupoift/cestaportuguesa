(function(a){a.fn.unwink=function(){this.removeClass("lwss-repeat-wink");this.stop(true);this.css("opacity",0)};a.fn.wink=function(){a(".lwss-repeat-wink").unwink();var c=800;function b(){a(".lwss-repeat-wink").animate({opacity:1},c).animate({opacity:0.7},c,b)}this.addClass("lwss-repeat-wink");b();return this};a.fn.getCursorPosition=function(){var c=this.get(0);if(!c){return}if("selectionStart" in c){return(c.selectionDirection!="backward"?c.selectionStart:c.selectionEnd)}else{if(document.selection){c.focus();var d=document.selection.createRange();var b=document.selection.createRange().text.length;d.moveStart("character",-c.value.length);return d.text.length-b}}};a.fn.mergeInputs=function(g){var d=this;var b=[];if(d.val().length>0){b=JSON.parse(d.val())}var f=false;for(var e=0;e<b.length;e++){if(b[e][g.attr("name")]!=undefined){if(g.val().length<=0){b.splice(e,1)}else{b[e][g.attr("name")]=g.val()}f=true;break}}if(!f&&g.val().length>0){var c={};c[g.attr("name")]=g.val();b.push(c)}d.val(JSON.stringify(b));return d};a.fn.demoNormalCSS=function(){var e=a(this);var d=e.closest(".lwss-css-editor");var g=d.find("input.lwss-merge-css").val().split(";");for(var f=0,c=g.length;f<c;f++){var b=g[f].split(":");if(b[0]=="color"||b[0]=="background-color"){e.css(b[0],b[1])}}};a.fn.demoHoverCSS=function(){var e=a(this);var d=e.closest(".lwss-css-editor");var g=d.find("input.lwss-merge-css").val().split(";");for(var f=0,c=g.length;f<c;f++){if(g[f].startsWith("hover-")){var b=g[f].split(":");e.css(b[0].substring(6),b[1])}}};a.fn.demoFocusCSS=function(){var e=a(this);var d=e.closest(".lwss-css-editor");var g=d.find("input.lwss-merge-css").val().split(";");for(var f=0,c=g.length;f<c;f++){if(g[f].startsWith("active-")){var b=g[f].split(":");e.css(b[0].substring(7),b[1])}}};a.fn.mergeCSS=function(d){var c=this;var b=c.hasClass("lwss-css-inputs")?c:c.closest(".lwss-css-inputs");var g="";var e=false;var f=false;b.find("input[data-css]").each(function(){if(a(this).val().trim().length>0){g+=a(this).data("css")+":"+a(this).val()+";"}e|=(a(this).data("css")=="color");f|=(a(this).data("css")=="background-color")});b.find("select[data-css]").each(function(){if(a(this).val().trim().length>0){g+=a(this).data("css")+":"+a(this).val()+";"}e|=(a(this).data("css")=="color");f|=(a(this).data("css")=="background-color")});b.find(".lwss-btn-color-demo[data-css]").each(function(){g+=a(this).data("css")+":"+a(this).css("background-color")+";";e|=(a(this).data("css")=="color");f|=(a(this).data("css")=="background-color")});if(d==undefined||!d){b.find("input.lwss-merge-css").val(g)}c.closest(".lwss-css-editor").find(".lwss-css-example").each(function(){a(this).attr("style",g);if(!e){a(this).css("color",(a(this).lwsIsDark()?"white":"black"))}if(!f){a(this).css("background-color",(a(this).lwsIsDark("color")?"white":"black"))}});c.closest(".lwss-css-editor").find(".lwss-toggle-states-N").each(function(){a(this).demoNormalCSS()});c.closest(".lwss-css-editor").find(".lwss-toggle-states-O").each(function(){a(this).demoHoverCSS()});c.closest(".lwss-css-editor").find(".lwss-toggle-states-F").each(function(){a(this).demoFocusCSS()});return c};a.fn.toggleBtn=function(){return this.each(function(){var e=a(this);var d="lws-btn-toggle-";var b=(e.data("text")!=undefined?e.data("text"):"");e.css("display","none");var c=e.next(".lws-btn-toggle");if(c.length==0){c=a("<div class='lws-btn-toggle'><span>"+b+"</span></div>").insertAfter(e);if(e.data("class")!=undefined){c.addClass(e.data("class"))}c.click(function(){var f=(c.hasClass(d+"on")?"off":"on");e.val(e.data(f));c.removeClass(d+"on "+d+"off").addClass(d+f);e.trigger("change")})}c.removeClass(d+"on "+d+"off").addClass(e.val()==e.data("on")?d+"on":d+"off")})}})(jQuery);jQuery(function(b){b("input[data-master]").change(function(){b(this).mergeInputs(b("input[name='"+b(this).data("master")+"']"))});b("input[data-master]").keyup(function(){b(this).mergeInputs(b("input[name='"+b(this).data("master")+"']"))});function c(g){var h=".lwss-bloc-mark-"+g.data("css");var e=g.val().split(" ");if(e.length>1){var d=0,j=0,i=g.getCursorPosition();for(j=0;j<e.length;j++){d+=1+e[j].length;if(d>i){break}}if(e.length==2){h+=".lwss-bloc-mark-"+(j==0?"v":"h")}else{if(j<4){var f=["u","r","d","l"];h+=".lwss-bloc-mark-"+f[j]}}}g.closest(".lwss-css-editor").find(h).wink()}b(".lwss-tooltip[data-tooltip]").mouseover(function(){b("#lwss-tooltip-widget").remove();var d=b(this).data("tooltip");if(d.length>0){b("<div id='lwss-tooltip-widget'>"+d+"</div>").insertAfter(b(this)).mouseleave(function(){b(this).remove()})}return false});b(".lwss-bloc-inputs input[data-css]").focusin(function(){c(b(this))}).keyup(function(){var d=b(this).data("css");c(b(this))}).click(function(){var d=b(this).data("css");c(b(this))}).focusout(function(){b(this).closest(".lwss-css-editor").find(".lwss-bloc-mark").unwink()});b(".lwss-css-inputs input[data-css]").change(function(){b(this).mergeCSS()});b(".lwss-css-inputs select[data-css]").change(function(){b(this).mergeCSS()});b(".lwss-css-inputs").each(function(){b(this).mergeCSS(true)});b(".lws-font-size-part").change(function(){var e=b(this).closest(".lwss-text-size-select");var f=e.find("input[type='hidden']");if(f.length>0){f.val(e.find("input[data-part='val']").val()+e.find("select[data-part='unit']").val());f.trigger("change")}});b(".lws-src-btn-toggle").toggleBtn();b(".lwss-reset-btn").click(function(d){var f=b(d.target).attr("id");b("[data-source='"+f+"'][data-lwss]").each(function(){var g=b(this);if(g.hasClass("lwss-btn-color-demo")){g.css("background-color",g.data("lwss"));g.parent().find(".lwss-btn-color-value").html(g.data("lwss"));g.mergeCSS(true)}else{if(g.hasClass("lws-src-btn-toggle")){g.val(g.data("lwss"));g.toggleBtn();g.trigger("change")}else{g.val(g.data("lwss"));g.trigger("change")}}var e=g.hasClass("lwss-css-inputs")?g:g.closest(".lwss-css-inputs");if(e.length>0){e.find("input.lwss-merge-css").val("")}})});function a(g){var f=g.closest(".lwss-css-editor");var j=f.find("input.lwss-merge-css").val().split(";");for(var h=0,e=j.length;h<e;h++){if(j[h].match("^(?!hover-|active-).*color.*")){var d=j[h].split(":");g.css(d[0],d[1])}}}b(".lwss-button-example").hover(function(){b(this).demoHoverCSS()},function(){a(b(this))});b(".lwss-button-example").mousedown(function(){b(this).demoFocusCSS()});b(".lwss-button-example").mouseup(function(){b(this).demoHoverCSS()});b(".lwss-input-button-toggle").click(function(){b(".lwss-hide-on-clic-out").fadeOut();b(".lwss-fold-on-clic-out").slideUp();if(b(this).data("target")!=undefined){var d=b(this).closest(".lwss-css-inputs").find(b(this).data("target"));if(d.is(":hidden")){d.slideDown()}return false}})});